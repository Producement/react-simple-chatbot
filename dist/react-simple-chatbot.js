!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("styled-components")):"function"==typeof define&&define.amd?define(["react","styled-components"],t):"object"==typeof exports?exports.ReactSimpleChatbot=t(require("react"),require("styled-components")):e.ReactSimpleChatbot=t(e.react,e["styled-components"])}("undefined"!=typeof self?self:this,function(__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__2__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=18)}([function(e,t,n){e.exports=n(19)()},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"d",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return _}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return f});var o=function(){return/iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent)},a=function(e){return"string"==typeof e},s=function(e){return 0===e.indexOf("{")&&e.indexOf("}")===e.length-1},u=function(e){return s(e)&&-1!==e.indexOf(".")},c=function(e){return s(e)?e:"{".concat(e,"}")},_=function(e){var t,n=(e=s(e)?s(t=e)?t.substring(1,t.length-1):t:e).indexOf(".");return-1===n?[e,null]:[e.substring(0,n),e.substring(n+1)]},p=function e(t,n,o){var a=i(_(n),2),s=a[0],u=a[1];u?(Object.prototype.hasOwnProperty.call(t,s)||(t[s]={}),"object"!==r(t[s])||Array.isArray(t[s])?console.error("Error: The given path ".concat(n," is not insertable")):e(t[s],u,o)):t[s]=o},l=function e(t,n){if(!t)return null;var r,o=i(_(n),2),a=o[0],s=o[1];return s?Object.prototype.hasOwnProperty.call(t,a)&&(r=e(t[a],s)):r=t[a],r},f=function(e){return JSON.parse(JSON.stringify(e))}},function(e,t,n){"use strict";t.a={background:"#f5f8fb",fontFamily:"monospace",headerBgColor:"#6e48aa",headerFontColor:"#fff",headerFontSize:"16px",botBubbleColor:"#6E48AA",botFontColor:"#fff",userBubbleColor:"#fff",userFontColor:"#4a4a4a"}},function(e,t,n){"use strict";var r=n(2),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(e);return"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(t,")")};function o(){var e=c(["\n  0% { box-shadow: 0 0 0 0 ","; }\n  70% { box-shadow: 0 0 0 10px ","; }\n  100% { box-shadow: 0 0 0 0 ","; }\n"]);return o=function(){return e},e}function a(){var e=c(["\n  25% { transform: rotate(-1deg); }\n  100% { transform: rotate(1deg); }\n"]);return a=function(){return e},e}function s(){var e=c(["\n  100% { transform: scale(1); }\n"]);return s=function(){return e},e}function u(){var e=c(["\n  0% { opacity: .2; }\n  20% { opacity: 1; }\n  100% { opacity: .2; }\n"]);return u=function(){return e},e}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"b",function(){return _}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return f});var _=Object(r.keyframes)(u()),p=Object(r.keyframes)(s()),l=Object(r.keyframes)(a()),f=function(e){return Object(r.keyframes)(o(),i(e,.4),i(e,0),i(e,0))}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(4);function a(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: ",";\n  border-radius: 10px;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\n  font-family: ",";\n  overflow: hidden;\n  position: ",";\n  bottom: ",";\n  top: ",";\n  right: ",";\n  left: ",";\n  width: ",";\n  height: ",";\n  z-index: 999;\n  transform: ",";\n  transform-origin: ",";\n  transition: transform 0.3s ease;\n\n  @media screen and (max-width: 568px) {\n    border-radius: ",";\n    bottom: 0 !important;\n    left: initial !important;\n    height: 100%;\n    right: 0 !important;\n    top: initial !important;\n    width: 100%;\n  }\n"]);return a=function(){return e},e}var s=i.a.div(a(),function(e){return e.theme.background},function(e){return e.theme.fontFamily},function(e){return e.floating?"fixed":"relative"},function(e){var t=e.floating,n=e.floatingStyle;return t?n.bottom||"32px":"initial"},function(e){var t=e.floating,n=e.floatingStyle;return t&&n.top||"initial"},function(e){var t=e.floating,n=e.floatingStyle;return t?n.right||"32px":"initial"},function(e){var t=e.floating,n=e.floatingStyle;return t&&n.left||"initial"},function(e){return e.width},function(e){return e.height},function(e){return e.opened?"scale(1)":"scale(0)"},function(e){return e.floatingStyle.transformOrigin||"bottom right"},function(e){return e.floating?"0":""});s.defaultProps={theme:o.a};var u=s;function c(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  height: calc("," - ",");\n  overflow-y: scroll;\n  margin-top: 2px;\n  padding-top: 6px;\n\n  @media screen and (max-width: 568px) {\n    height: ",";\n  }\n"]);return c=function(){return e},e}var _=i.a.div(c(),function(e){return e.height},function(e){return e.hideInput?"56px":"112px"},function(e){return e.floating?"calc(100% - 112px)":""});function p(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: center;\n  background: ",";\n  color: ",";\n  display: flex;\n  fill: ",";\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 10px;\n"]);return p=function(){return e},e}var l=i.a.div(p(),function(e){return e.theme.headerBgColor},function(e){return e.theme.headerFontColor},function(e){return e.theme.headerFontColor});l.defaultProps={theme:o.a};var f=l;function d(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin: 0;\n  font-size: ",";\n"]);return d=function(){return e},e}var h=i.a.h2(d(),function(e){return e.theme.headerFontSize});h.defaultProps={theme:o.a};var y=h;function b(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  cursor: pointer;\n"]);return b=function(){return e},e}var v=i.a.a(b());function g(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: center;\n  cursor: pointer;\n  background: ",";\n  bottom: 32px;\n  border-radius: 100%;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\n  display: flex;\n  fill: ",";\n  height: 56px;\n  justify-content: center;\n  position: fixed;\n  right: 32px;\n  transform: ",";\n  transition: transform 0.3s ease;\n  width: 56px;\n  z-index: 999;\n"]);return g=function(){return e},e}var E=i.a.a(g(),function(e){return e.theme.headerBgColor},function(e){return e.theme.headerFontColor},function(e){return e.opened?"scale(0)":"scale(1)"});E.defaultProps={theme:{headerBgColor:"#6e48aa",headerFontColor:"#fff"}};var O=E;function m(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  height: 24px;\n  width: 24px;\n"]);return m=function(){return e},e}var P=i.a.img(m());function S(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n"]);return S=function(){return e},e}var M=i.a.div(S()),D=n(5);function x(){var e=I(["\n          "," .2s ease\n        "]);return x=function(){return e},e}function T(){var e=I(["\n  animation: ",";\n  border: 0;\n  border-radius: 0;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  border-top: ",";\n  box-shadow: ",";\n  box-sizing: border-box;\n  color: ",";\n  font-size: 16px;\n  opacity: ",";\n  outline: none;\n  padding: ",";\n  width: 100%;\n  -webkit-appearance: none;\n\n  &:disabled {\n    background: #fff;\n  }\n\n  @media screen and (max-width: 568px) {\n    border-bottom-left-radius: ",";\n    border-bottom-right-radius: ",";\n  }\n"]);return T=function(){return e},e}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=i.a.input(T(),function(e){return e.invalid?Object(r.css)(x(),D.a):""},function(e){return e.invalid?"0":"1px solid #eee"},function(e){return e.invalid?"inset 0 0 2px #E53935":"none"},function(e){return e.invalid?"#E53935":""},function(e){return e.disabled&&!e.invalid?".5":"1"},function(e){return e.hasButton?"16px 52px 16px 10px":"16px 10px"},function(e){return e.floating?"0":"10px"},function(e){return e.floating?"0":"10px"});function C(){var e=A(["\n            "," 2s ease infinite\n          "]);return C=function(){return e},e}function j(){var e=A(["\n  background-color: transparent;\n  border: 0;\n  border-bottom-right-radius: 10px;\n  box-shadow: none;\n  cursor: ",";\n  fill: ",";\n  opacity: ",";\n  outline: none;\n  padding: 14px 16px 12px 16px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  &:before {\n    content: '';\n    position: absolute;\n    width: 23px;\n    height: 23px;\n    border-radius: 50%;\n    animation: ",";\n  }\n  &:not(:disabled):hover {\n    opacity: 0.7;\n  }\n"]);return j=function(){return e},e}function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=i.a.button(j(),function(e){return e.disabled?"default":"pointer"},function(e){var t=e.speaking,n=e.invalid,r=e.theme;return t?r.headerBgColor:n?"#E53935":"#4a4a4a"},function(e){return e.disabled&&!e.invalid?".5":"1"},function(e){var t=e.theme;return e.speaking?Object(r.css)(C(),Object(D.c)(t.headerBgColor)):""});k.defaultProps={theme:o.a};var R=k;n.d(t,"a",function(){return u}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return f}),n.d(t,"h",function(){return y}),n.d(t,"g",function(){return v}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return P}),n.d(t,"e",function(){return M}),n.d(t,"i",function(){return w}),n.d(t,"j",function(){return R})},function(e,t){var n=function(e,t){return{parse:function(t,r){var a=JSON.parse(t,o).map(i),s=a[0],u=r||n,c="object"==typeof s&&s?function t(n,r,i,o){return Object.keys(i).reduce(function(i,a){var s=i[a];if(s instanceof e){var u=n[s];"object"!=typeof u||r.has(u)?i[a]=o.call(i,a,u):(r.add(u),i[a]=o.call(i,a,t(n,r,u,o)))}else i[a]=o.call(i,a,s);return i},i)}(a,new Set,s,u):s;return u.call({"":c},"",c)},stringify:function(e,i,o){for(var a,s=new Map,u=[],c=[],_=i&&typeof i==typeof u?function(e,t){if(""===e||-1<i.indexOf(e))return t}:i||n,p=+r(s,u,_.call({"":e},"",e)),l=function(e,n){if(a)return a=!a,n;var i=_.call(this,e,n);switch(typeof i){case"object":if(null===i)return i;case t:return s.get(i)||r(s,u,i)}return i};p<u.length;p++)a=!0,c[p]=JSON.stringify(u[p],l,o);return"["+c.join(",")+"]"}};function n(e,t){return t}function r(t,n,r){var i=e(n.push(r)-1);return t.set(r,i),i}function i(t){return t instanceof e?e(t):t}function o(n,r){return typeof r===t?new e(r):r}}(String,"string");e.exports=n},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(2),a=n.n(o),s=n(5);function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  animation: "," 1.4s infinite both;\n  animation-delay: ",";\n"]);return u=function(){return e},e}var c=a.a.span(u(),s.b,function(e){return e.delay});t.a=function(){return i.a.createElement("span",{className:"rsc-loading"},i.a.createElement(c,{delay:"0s"},"."),i.a.createElement(c,{delay:".2s"},"."),i.a.createElement(c,{delay:".4s"},"."))}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=function(){return i.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}),i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},a=function(){return i.a.createElement("svg",{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),i.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},s=n(0),u=n.n(s),c=function(e){var t=e.size;return i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 500 500"},i.a.createElement("g",null,i.a.createElement("g",null,i.a.createElement("polygon",{points:"0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75"}))))};c.propTypes={size:u.a.number},c.defaultProps={size:20};var _=c,p=function(e){var t=e.size;return i.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 400 400"},i.a.createElement("g",null,i.a.createElement("path",{d:"M290.991,240.991c0,26.392-21.602,47.999-48.002,47.999h-11.529c-26.4,0-48.002-21.607-48.002-47.999V104.002   c0-26.4,21.602-48.004,48.002-48.004h11.529c26.4,0,48.002,21.604,48.002,48.004V240.991z"}),i.a.createElement("path",{d:"M342.381,209.85h-8.961c-4.932,0-8.961,4.034-8.961,8.961v8.008c0,50.26-37.109,91.001-87.361,91.001   c-50.26,0-87.109-40.741-87.109-91.001v-8.008c0-4.927-4.029-8.961-8.961-8.961h-8.961c-4.924,0-8.961,4.034-8.961,8.961v8.008   c0,58.862,40.229,107.625,96.07,116.362v36.966h-34.412c-4.932,0-8.961,4.039-8.961,8.971v17.922c0,4.923,4.029,8.961,8.961,8.961   h104.688c4.926,0,8.961-4.038,8.961-8.961v-17.922c0-4.932-4.035-8.971-8.961-8.971h-34.43v-36.966   c55.889-8.729,96.32-57.5,96.32-116.362v-8.008C351.342,213.884,347.303,209.85,342.381,209.85z"})))};p.propTypes={size:u.a.number},p.defaultProps={size:20};var l=p;n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return _}),n.d(t,"c",function(){return l})},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(0),a=n.n(o),s=n(8),u=n(2),c=n.n(u);function _(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  display: flex;\n  justify-content: center;\n  margin: 0 6px 10px 6px;\n  padding: 16px;\n"]);return _=function(){return e},e}var p=c.a.div(_());function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=this,o=(e=d(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==l(o)&&"function"!=typeof o?y(r):o,b(y(y(n)),"state",{loading:!0}),b(y(y(n)),"renderComponent",function(){var e=n.props,t=e.step,r=e.steps,o=e.previousStep,a=e.triggerNextStep,s=t.component;return i.a.cloneElement(s,{step:t,steps:r,previousStep:o,triggerNextStep:a})}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.speak,r=t.step,i=t.previousValue,o=t.triggerNextStep,a=r.delay,s=r.waitAction;setTimeout(function(){e.setState({loading:!1},function(){s||r.rendered||o(),n(r,i)})},a)}},{key:"render",value:function(){var e=this.state.loading,t=this.props.style;return i.a.createElement(p,{className:"rsc-cs",style:t},e?i.a.createElement(s.a,null):this.renderComponent())}}])&&f(n.prototype,o),a&&f(n,a),t}();v.propTypes={previousStep:a.a.objectOf(a.a.any).isRequired,previousValue:a.a.oneOfType([a.a.string,a.a.bool,a.a.number,a.a.object,a.a.array]),speak:a.a.func,step:a.a.objectOf(a.a.any).isRequired,steps:a.a.objectOf(a.a.any).isRequired,style:a.a.objectOf(a.a.any).isRequired,triggerNextStep:a.a.func.isRequired},v.defaultProps={previousValue:"",speak:function(){}};var g=v,E=n(5);function O(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  animation: "," 0.3s ease forwards;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n  transform: scale(0);\n"]);return O=function(){return e},e}var m=c.a.li(O(),E.d),P=n(4);function S(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: ",";\n  border: 0;\n  border-radius: 22px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ",";\n  display: inline-block;\n  font-size: 14px;\n  padding: 12px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n  &:active,\n  &:hover:focus {\n    outline: none;\n  }\n"]);return S=function(){return e},e}var M=c.a.button(S(),function(e){return e.theme.botBubbleColor},function(e){return e.theme.botFontColor});M.defaultProps={theme:P.a};var D=M;function x(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin: 2px 0 12px 0;\n  padding: 0 6px;\n"]);return x=function(){return e},e}var T=c.a.ul(x());function I(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""]);return I=function(){return e},e}var w=c.a.div(I());function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=this,o=(e=A(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==C(o)&&"function"!=typeof o?R(r):o,B(R(R(n)),"onOptionClick",function(e){(0,n.props.triggerNextStep)(e)}),B(R(R(n)),"renderOption",function(e){var t=n.props,r=t.bubbleOptionStyle,o=t.step.user,a=e.label;return i.a.createElement(m,{key:JSON.stringify(e),className:"rsc-os-option"},i.a.createElement(D,{className:"rsc-os-option-element",style:r,user:o,onClick:function(){return n.onOptionClick(e)}},a))}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.props.step.options;return i.a.createElement(w,{className:"rsc-os"},i.a.createElement(T,{className:"rsc-os-options"},Object.keys(e).map(function(t){return e[t]}).map(this.renderOption)))}}])&&j(n.prototype,o),a&&j(n,a),t}();L.propTypes={bubbleOptionStyle:a.a.objectOf(a.a.any).isRequired,step:a.a.objectOf(a.a.any).isRequired,triggerNextStep:a.a.func.isRequired};var U=L;function W(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  animation: "," 0.3s ease forwards;\n  background: ",";\n  border-radius: ",";\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ",";\n  display: inline-block;\n  font-size: 14px;\n  max-width: 50%;\n  margin: ",";\n  overflow: hidden;\n  position: relative;\n  padding: 12px;\n  transform: scale(0);\n  transform-origin: ",";\n"]);return W=function(){return e},e}var z=c.a.div(W(),E.d,function(e){return e.user?e.theme.userBubbleColor:e.theme.botBubbleColor},function(e){var t=e.isFirst,n=e.isLast,r=e.user;return t||n?!t&&n?r?"18px 0 18px 18px":"0 18px 18px 18px":e.user?"18px 18px 0 18px":"18px 18px 18px 0":r?"18px 0 0 18px":"0 18px 18px 0px"},function(e){return e.user?e.theme.userFontColor:e.theme.botFontColor},function(e){var t=e.isFirst,n=e.showAvatar,r=e.user;return!t&&n?r?"-8px 46px 10px 0":"-8px 0 10px 46px":t||n?"0 0 10px 0":r?"-8px 0px 10px 0":"-8px 0 10px 0px"},function(e){var t=e.isFirst,n=e.user;return t?n?"bottom right":"bottom left":n?"top right":"top left"});z.defaultProps={theme:P.a};var K=z;function q(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  animation: "," 0.3s ease forwards;\n  border-radius: ",";\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  height: 40px;\n  min-width: 40px;\n  padding: 3px;\n  transform: scale(0);\n  transform-origin: ",";\n  width: 40;\n"]);return q=function(){return e},e}var N=c.a.img(q(),E.d,function(e){return e.user?"50% 50% 50% 0":"50% 50% 0 50%"},function(e){return e.user?"bottom left":"bottom right"});function V(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: inline-block;\n  order: ",";\n  padding: 6px;\n"]);return V=function(){return e},e}var F=c.a.div(V(),function(e){return e.user?"1":"0"});function H(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  align-items: flex-end;\n  display: flex;\n  justify-content: ",";\n"]);return H=function(){return e},e}var J=c.a.div(H(),function(e){return e.user?"flex-end":"flex-start"}),$=n(3);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=this,o=(e=G(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==X(o)&&"function"!=typeof o?ee(r):o,te(ee(ee(n)),"state",{loading:!0}),te(ee(ee(n)),"getMessage",function(){var e=n.props,t=e.previousValue,r=e.step,i=e.previousSteps,o=r.message;return o=o?o.replace(/{previousValue}/g,t):"",o=n.replaceAllVariables(o,i)}),te(ee(ee(n)),"replaceAllVariables",function(e,t){var r=e.match(/{[^{}]+}/g);if(r){var i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t[c]||t[Object($.h)(Object($.i)(c)[0])]?e=e.replace(new RegExp(c,"g"),n.getValue(t,c)):(t[c=c.replace(/[{}]/g,"")]||t[Object($.i)(c)[0]])&&(e=e.replace(new RegExp("{".concat(c,"}"),"g"),n.getValue(t,c)))}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}return e}),te(ee(ee(n)),"getValue",function(e,t){var n;if(Object($.e)(t)){var r=Y(Object($.i)(t),2),i=r[0],o=r[1],a=Object($.h)(i);e[a]&&e[a].value&&(n=Object($.b)(e[a].value,o))}else n=e[t].value;if("object"===X(n))return JSON.stringify(n,null,1).replace(/{/g,"(").replace(/}/g,")");return"string"==typeof n&&n.match(/\d+\..+\..+-.+\..+/)?"":n}),te(ee(ee(n)),"renderMessage",function(){var e=n.props,t=e.step,r=e.steps,o=e.previousStep,a=e.triggerNextStep,s=t.component;return s?i.a.cloneElement(s,{step:t,steps:r,previousStep:o,triggerNextStep:a}):n.getMessage()}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,r["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.step,r=t.speak,i=t.previousValue,o=t.triggerNextStep,a=n.component,s=n.delay,u=n.waitAction,c=a&&u;setTimeout(function(){e.setState({loading:!1},function(){c||n.rendered||o(),r(n,i)})},s)}},{key:"render",value:function(){var e=this.props,t=e.step,n=e.isFirst,r=e.isLast,o=e.avatarStyle,a=e.bubbleStyle,u=e.hideBotAvatar,c=e.hideUserAvatar,_=this.state.loading,p=t.avatar,l=t.user,f=t.metadata,d=l?!c:!u;return i.a.createElement(J,{className:"rsc-ts ".concat(l?"rsc-ts-user":"rsc-ts-bot"),user:l},i.a.createElement(F,{className:"rsc-ts-image-container",user:l},n&&d&&i.a.createElement(N,{className:"rsc-ts-image",style:o,showAvatar:d,user:l,src:p,alt:"avatar"})),i.a.createElement(K,{className:"rsc-ts-bubble",style:a,user:l,showAvatar:d,isFirst:n,isLast:r,title:f&&f.timestamp},_?i.a.createElement(s.a,null):t.component?this.renderMessage():i.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.renderMessage()}})))}}])&&Z(n.prototype,o),a&&Z(n,a),t}();ne.propTypes={avatarStyle:a.a.objectOf(a.a.any).isRequired,isFirst:a.a.bool.isRequired,isLast:a.a.bool.isRequired,bubbleStyle:a.a.objectOf(a.a.any).isRequired,hideBotAvatar:a.a.bool.isRequired,hideUserAvatar:a.a.bool.isRequired,previousStep:a.a.objectOf(a.a.any),previousSteps:a.a.objectOf(a.a.any),previousValue:a.a.oneOfType([a.a.string,a.a.bool,a.a.number,a.a.object,a.a.array]),speak:a.a.func,step:a.a.objectOf(a.a.any).isRequired,steps:a.a.objectOf(a.a.any),triggerNextStep:a.a.func.isRequired},ne.defaultProps={previousStep:{},previousSteps:{},previousValue:"",speak:function(){},steps:{}};var re=ne;n.d(t,"a",function(){return g}),n.d(t,"b",function(){return U}),n.d(t,"c",function(){return re})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n(7),i=function(e,t){var n=e.cacheName,i=e.cache,o=e.firstStep,a=e.steps,s=o,u=[a[s.id]],c=[a[s.id]],_=localStorage.getItem(n);if(i&&_)try{for(var p=Object(r.parse)(_),l=0,f=p.renderedSteps.length;l<f;l+=1){var d=p.renderedSteps[l];if(p.renderedSteps[l].delay=0,p.renderedSteps[l].rendered=!0,d.component){var h=d.id;p.renderedSteps[l].component=a[h].component}}var y=p.currentStep,b=y.trigger,v=y.end,g=y.options,E=p.currentStep.id;if(g&&delete p.currentStep.rendered,!b&&!v)if(g)for(var O=0;O<g.length;O+=1)p.currentStep.options[O].trigger=a[E].options[O].trigger;else p.currentStep.trigger=a[E].trigger;return p.currentStep.user&&t(),p}catch(e){console.info("Unable to parse cache named:".concat(n,". \nThe cache where probably created with an older version of react-simple-chatbot.\n"),e)}return{currentStep:s,previousStep:{},previousSteps:c,renderedSteps:u}},o=function(e,t){var n=Object(r.parse)(Object(r.stringify)(t));for(var i in n)for(var o=0,a=n[i].length;o<a;o+=1)n[i][o].component&&(n[i][o].component=n[i][o].id);localStorage.setItem(e,Object(r.stringify)(n))}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",function(){return u});var a=null,s=function(){},u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a||(a=this),this.state={inputValue:"",lang:i,onChange:t,onEnd:n,onStop:r},this.onResult=this.onResult.bind(this),this.onEnd=this.onEnd.bind(this),this.setup(),a}return o(e,null,[{key:"isSupported",value:function(){return"webkitSpeechRecognition"in window}}]),o(e,[{key:"onChange",value:function(e){var t=this.state.onChange;this.setState({inputValue:e}),t(e)}},{key:"onFinal",value:function(e){this.setState({inputValue:e}),this.recognition.stop()}},{key:"onEnd",value:function(){var e=this.state,t=e.onStop,n=e.onEnd,r=e.force;this.setState({speaking:!1}),r?t():n()}},{key:"onResult",value:function(e){for(var t="",n="",r=e.resultIndex;r<e.results.length;r+=1)e.results[r].isFinal?(n+=e.results[r][0].transcript,this.onFinal(n)):(t+=e.results[r][0].transcript,this.onChange(t))}},{key:"setState",value:function(e){this.state=r({},this.state,e)}},{key:"setup",value:function(){if(!e.isSupported())return this;var t=window.webkitSpeechRecognition;return this.recognition=new t,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.lang=this.state.lang,this.recognition.onresult=this.onResult,this.recognition.onend=this.onEnd,this}},{key:"setLang",value:function(e){return this.setState({lang:e}),this.setup(),this}},{key:"speak",value:function(){return e.isSupported()?(this.state.speaking?(this.setState({force:!0}),this.recognition.stop()):(this.recognition.start(),this.setState({speaking:!0,inputValue:""})),this):this}}]),e}()},function(e,t,n){"use strict";var r=n(7),i=[{key:"id",types:["string","number"],required:!0},{key:"user",types:["boolean"],required:!0},{key:"trigger",types:["string","number","function"],required:!1},{key:"validator",types:["function"],required:!1},{key:"end",types:["boolean"],required:!1},{key:"placeholder",types:["string"],required:!1},{key:"inputAttributes",types:["object"],required:!1},{key:"metadata",types:["object"],required:!1},{key:"@class",types:["string"],required:!1},{key:"evalExpression",types:["string"],required:!1}],o=[{key:"id",types:["string","number"],required:!0},{key:"message",types:["string","function"],required:!0},{key:"avatar",types:["string"],required:!1},{key:"trigger",types:["string","number","function"],required:!1},{key:"delay",types:["number"],required:!1},{key:"end",types:["boolean"],required:!1},{key:"placeholder",types:["string"],required:!1},{key:"hideInput",types:["boolean"],required:!1},{key:"inputAttributes",types:["object"],required:!1},{key:"metadata",types:["object"],required:!1},{key:"@class",types:["string"],required:!1},{key:"evalExpression",types:["string"],required:!1}],a=[{key:"id",types:["string","number"],required:!0},{key:"options",types:["object"],required:!0},{key:"end",types:["boolean"],required:!1},{key:"placeholder",types:["string"],required:!1},{key:"hideInput",types:["boolean"],required:!1},{key:"inputAttributes",types:["object"],required:!1},{key:"metadata",types:["object"],required:!1},{key:"@class",types:["string"],required:!1},{key:"evalExpression",types:["string"],required:!1}],s=[{key:"id",types:["string","number"],required:!0},{key:"component",types:["any"],required:!0},{key:"avatar",types:["string"],required:!1},{key:"replace",types:["boolean"],required:!1},{key:"waitAction",types:["boolean"],required:!1},{key:"asMessage",types:["boolean"],required:!1},{key:"trigger",types:["string","number","function"],required:!1},{key:"delay",types:["number"],required:!1},{key:"end",types:["boolean"],required:!1},{key:"placeholder",types:["string"],required:!1},{key:"hideInput",types:["boolean"],required:!1},{key:"inputAttributes",types:["object"],required:!1},{key:"metadata",types:["object"],required:!1},{key:"@class",types:["string"],required:!1},{key:"evalExpression",types:["string"],required:!1}],u=[{key:"id",types:["string","number"],required:!0},{key:"update",types:["string","number"],required:!0},{key:"trigger",types:["string","number","function"],required:!1},{key:"updateOptions",types:["object"],required:!1},{key:"placeholder",types:["string"],required:!1},{key:"inputAttributes",types:["object"],required:!1},{key:"metadata",types:["object"],required:!1},{key:"@class",types:["string"],required:!1},{key:"evalExpression",types:["string"],required:!1}],c=[{key:"id",types:["string","number"],required:!0},{key:"choices",types:["object"],required:!0},{key:"end",types:["boolean"],required:!1},{key:"placeholder",types:["string"],required:!1},{key:"hideInput",types:["boolean"],required:!1},{key:"inputAttributes",types:["object"],required:!1},{key:"metadata",types:["object"],required:!1},{key:"@class",types:["string"],required:!1},{key:"evalExpression",types:["string"],required:!1},{key:"trigger",types:["string","number","function"],required:!1}];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p={parse:function(e){var t=[];if(e.user)t=i;else if(e.message)t=o;else if(e.options)t=a;else if(e.choices)t=c;else if(e.component)t=s;else{if(!e.update)throw new Error("The step ".concat(Object(r.stringify)(e)," is invalid"));t=u}for(var n=0,p=t.length;n<p;n+=1){var l=t[n],f=l.key,d=l.types,h=l.required;if(!e[f]&&h)throw new Error("Key '".concat(f,"' is required in step ").concat(Object(r.stringify)(e)));if(e[f]&&"any"!==d[0]&&d.indexOf(_(e[f]))<0)throw new Error("The type of '".concat(f,"' value must be ").concat(d.join(" or ")," instead of ").concat(_(e[f])))}var y=t.map(function(e){return e.key});for(var f in e)y.indexOf(f)<0&&(console.error("Invalid key '".concat(f,"' in step '").concat(e.id,"'")),delete e[f]);return e},checkInvalidIds:function(e){for(var t in e){var n=e[t],r=e[t].trigger;if("function"!=typeof r)if(n.options)for(var i=n.options.filter(function(e){return"function"!=typeof e.trigger}).map(function(e){return e.trigger}),o=0,a=i.length;o<a;o+=1){var s=i[o];if(s&&!e[s])throw new Error("The id '".concat(s,"' triggered by option ").concat(o+1," in step '").concat(e[t].id,"' does not exist"))}else if(r&&!e[r])throw new Error("The id '".concat(r,"' triggered by step '").concat(e[t].id,"' does not exist"))}}};t.a=p},function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),random_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),random_id__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(random_id__WEBPACK_IMPORTED_MODULE_2__),_steps_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(10),_schemas_schema__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_storage__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(11),_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_recognition__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12),_icons__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3),_speechSynthesis__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(16),_steps_components_multiple_choice_MultipleChoiceStep__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(17);function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_defineProperty(e,t,n[t])})}return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ChatBot=function(_Component){function ChatBot(props){var _this;return _classCallCheck(this,ChatBot),_this=_possibleConstructorReturn(this,_getPrototypeOf(ChatBot).call(this,props)),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"onNodeInserted",function(e){var t=e.currentTarget;_this.props.enableSmoothScroll&&_this.supportsScrollBehavior?t.scroll({top:t.scrollHeight,left:0,behavior:"smooth"}):t.scrollTop=t.scrollHeight}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"onResize",function(){_this.content.scrollTop=_this.content.scrollHeight}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"onRecognitionChange",function(e){_this.setState({inputValue:e})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"onRecognitionEnd",function(){_this.setState({speaking:!1}),_this.handleSubmitButton()}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"onRecognitionStop",function(){_this.setState({speaking:!1})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"onValueChange",function(e){_this.setState({inputValue:e.target.value})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"getTriggeredStep",function(e,t){var n=_this.generateRenderedStepsById();return"function"==typeof e?e({value:t,steps:n}):e}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"getStepMessage",function(e){var t=_this.state.previousSteps,n=t.length>0?t.length-1:0,r=_this.generateRenderedStepsById(),i=t[n].value;return"function"==typeof e?e({previousValue:i,steps:r}):e}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"generateRenderedStepsById",function(){var e=_this.state.previousSteps;return _this.generateStepsById(e)}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"generateStepsById",function(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e[n],o=i.id,a=i.message,s=i.value,u=i.metadata;t[o]={id:o,message:a,value:s,metadata:u}}return t}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"metadata",function(e){var t={timestamp:(new Date).toJSON()};return{metadata:_extends({},e.metadata,t)}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"findLastStepWithId",function(e,t){Object(_utils__WEBPACK_IMPORTED_MODULE_9__.g)(t)||(t=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.h)(t));var n=e.filter(function(e){return e.id===t});return n.length>0?n[n.length-1]:null}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"evaluateExpression",function(evalExpression){var previousValues={},values={},_this$state=_this.state,previousSteps=_this$state.previousSteps,renderedSteps=_this$state.renderedSteps,currentStep=_this$state.currentStep;for(var id in renderedSteps.forEach(function(e){null!=e.value&&(previousValues[e.id]=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.a)(e.value))}),null!=currentStep.value&&(previousValues[currentStep.id]=Object(_utils__WEBPACK_IMPORTED_MODULE_9__.a)(currentStep.value)),eval(evalExpression),values)if(Object.prototype.hasOwnProperty.call(values,id)){var newStep={"@class":".ValueStep",id:id,value:values[id]};previousSteps.push(newStep),renderedSteps.push(newStep)}_this.setState({previousSteps:previousSteps,renderedSteps:renderedSteps})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"triggerNextStep",function(e){var t=_this.props.enableMobileAutoFocus,n=_this.state,r=n.defaultUserSettings,i=n.previousSteps,o=n.renderedSteps,a=n.steps,s=_this.state,u=s.currentStep,c=s.previousStep,_=u.end,p=e&&e.value?e.value:e&&Array.isArray(e)?e.map(function(e){return e.value}):null;if(p&&(Object(_utils__WEBPACK_IMPORTED_MODULE_9__.e)(u.id)?_this.saveValueAsStep(p,u.id,o,i):u.value=p),e&&e.hideInput&&(u.hideInput=e.hideInput),e&&e.trigger&&(u.trigger=_this.getTriggeredStep(e.trigger,p)),_)_this.handleEnd();else if(u.options&&e){var l=_extends({},u.options.filter(function(t){return t===e})[0]),f=_this.getTriggeredStep(l.trigger,u.value);delete u.options;var d=o.filter(function(e){return e.id===u.id}),h=d.length>1&&d[d.length-2];"object"===_typeof(h.value)&&"object"===_typeof(l.value)&&(l.value=_objectSpread({},h.value,l.value)),u=_extends({},u,l,r,{user:!0,message:l.label,trigger:f},_this.metadata(u)),o.pop(),i.pop(),o.push(u),i.push(u),_this.setState({currentStep:u,renderedSteps:o,previousSteps:i})}else if(u.trigger){u.replace&&o.pop();var y=_this.getNextStep(u,a);c=u,u=y,_this.setState({renderedSteps:o,currentStep:u,previousStep:c},function(){y.user?_this.setState({disabled:!1},function(){!t&&Object(_utils__WEBPACK_IMPORTED_MODULE_9__.d)()||_this.input&&_this.input.focus()}):(o.push(y),i.push(y),_this.setState({renderedSteps:o,previousSteps:i}))})}var b=_this.props,v=b.cache,g=b.cacheName;v&&setTimeout(function(){_storage__WEBPACK_IMPORTED_MODULE_5__.b(g,{currentStep:u,previousStep:c,previousSteps:i,renderedSteps:o})},300);var E=_this.props.handleNextStep;E&&setTimeout(function(){E({currentStep:u,previousStep:c,previousSteps:i,renderedSteps:o})},300)}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"getNextStep",function(e,t){var n=_extends({},t[_this.getTriggeredStep(e.trigger,e.value)]);if(n.message)n.message=_this.getStepMessage(n.message);else if(n.update){var r=n;if((n=_extends({},t[r.update])).options||r.updateOptions){if(r.updateOptions)n.options=r.updateOptions;else for(var i=0,o=n.options.length;i<o;i+=1)n.options[i].trigger=r.trigger;n.user=!1}else n.trigger=r.trigger}return"string"==typeof n.evalExpression&&_this.evaluateExpression(n.evalExpression),n.key=random_id__WEBPACK_IMPORTED_MODULE_2___default()(24),n}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"saveValueAsStep",function(e,t,n,r){var i=_slicedToArray(Object(_utils__WEBPACK_IMPORTED_MODULE_9__.i)(t),2),o=i[0],a=i[1],s=_this.findLastStepWithId(n,o);if(s){var u={"@class":".ValueStep",id:s.id,value:Object(_utils__WEBPACK_IMPORTED_MODULE_9__.a)(s.value)};Object(_utils__WEBPACK_IMPORTED_MODULE_9__.c)(u.value,a,e);var c=r.pop(),_=n.pop();r.push(u),n.push(u),c&&r.push(c),_&&n.push(_)}else console.error("Error: Could not find parent step of the nested variable")}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"handleEnd",function(){var e=_this.props.handleEnd;if(e){for(var t=_this.state.previousSteps,n=t.map(function(e){return{id:e.id,message:e.message,value:e.value,metadata:e.metadata}}),r=[],i=0,o=t.length;i<o;i+=1){var a=t[i],s=a.id,u=a.message,c=a.value,_=a.metadata;r[s]={id:s,message:u,value:c,metadata:_}}e({renderedSteps:n,steps:r,values:t.filter(function(e){return e.value}).map(function(e){return e.value})})}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"isInputValueEmpty",function(){var e=_this.state.inputValue;return!e||0===e.length}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"isLastPosition",function(e){var t=_this.state.renderedSteps,n=t.length,r=t.map(function(e){return e.key}).indexOf(e.key);if(n<=1||r+1===n)return!0;var i=t[r+1];return!i.message&&!i.asMessage||e.user!==i.user}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"isFirstPosition",function(e){var t=_this.state.renderedSteps,n=t.map(function(e){return e.key}).indexOf(e.key);if(0===n)return!0;var r=t[n-1];return!r.message&&!r.asMessage||e.user!==r.user}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"handleKeyPress",function(e){"Enter"===e.key&&_this.submitUserMessage()}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"handleSubmitButton",function(){var e=_this.state,t=e.speaking,n=e.recognitionEnable;if((_this.isInputValueEmpty()||t)&&n)return _this.recognition.speak(),void(t||_this.setState({speaking:!0}));_this.submitUserMessage()}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"submitUserMessage",function(){var e=_this.state,t=e.defaultUserSettings,n=e.inputValue,r=e.previousSteps,i=e.renderedSteps,o=_this.state.currentStep;if(!(o.validator&&_this.checkInvalidInput())){var a={message:n,value:n};if(Object(_utils__WEBPACK_IMPORTED_MODULE_9__.e)(o.id)){var s=_slicedToArray(Object(_utils__WEBPACK_IMPORTED_MODULE_9__.i)(o.id),2),u=s[0],c=s[1],_=_this.findLastStepWithId(i,u);if(_){var p={"@class":".ValueStep",id:_.id,value:Object(_utils__WEBPACK_IMPORTED_MODULE_9__.a)(_.value)};Object(_utils__WEBPACK_IMPORTED_MODULE_9__.c)(p.value,c,n),r.push(p),i.push(p)}else console.error("Error: Could not find parent step of the nested variable")}o=_extends({},t,o,a,_this.metadata(a)),i.push(o),r.push(o),_this.setState({currentStep:o,renderedSteps:i,previousSteps:r,disabled:!0,inputValue:""},function(){_this.input&&_this.input.blur()})}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"checkInvalidInput",function(){var e=_this.props.enableMobileAutoFocus,t=_this.state,n=t.currentStep,r=t.inputValue,i=n.validator(r),o=r;return("boolean"!=typeof i||!i)&&(_this.setState({inputValue:i.toString(),inputInvalid:!0,disabled:!0},function(){setTimeout(function(){_this.setState({inputValue:o,inputInvalid:!1,disabled:!1},function(){!e&&Object(_utils__WEBPACK_IMPORTED_MODULE_9__.d)()||_this.input&&_this.input.focus()})},2e3)}),!0)}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"toggleChatBot",function(e){var t=_this.props.toggleFloating;t?t({opened:e}):_this.setState({opened:e})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"renderStep",function(e,t){var n=_this.state.renderedSteps,r=_this.props,i=r.avatarStyle,o=r.bubbleStyle,a=r.bubbleOptionStyle,s=r.customStyle,u=r.hideBotAvatar,c=r.hideUserAvatar,_=r.speechSynthesis,p=e.options,l=e.component,f=e.asMessage,d=e.choices,h=_this.generateRenderedStepsById(),y=t>0?n[t-1]:{},b=t>0?_this.generateStepsById(n.slice(0,t)):{};return".ValueStep"===e["@class"]?null:l&&!f?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_steps_components__WEBPACK_IMPORTED_MODULE_3__.a,{key:t,speak:_this.speak,step:e,steps:h,style:s,previousStep:y,previousValue:y.value,triggerNextStep:_this.triggerNextStep}):p?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_steps_components__WEBPACK_IMPORTED_MODULE_3__.b,{key:t,step:e,speak:_this.speak,previousValue:y.value,triggerNextStep:_this.triggerNextStep,bubbleOptionStyle:a}):d?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_steps_components_multiple_choice_MultipleChoiceStep__WEBPACK_IMPORTED_MODULE_11__.a,{key:t,speak:_this.speak,step:e,previousValue:y.value,bubbleChoiceStyle:a,triggerNextStep:_this.triggerNextStep}):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_steps_components__WEBPACK_IMPORTED_MODULE_3__.c,{key:t,step:e,steps:h,speak:_this.speak,previousStep:y,previousSteps:b,previousValue:y.value,triggerNextStep:_this.triggerNextStep,avatarStyle:i,bubbleStyle:o,hideBotAvatar:u,hideUserAvatar:c,speechSynthesis:_,isFirst:_this.isFirstPosition(e),isLast:_this.isLastPosition(e)})}),_this.content=null,_this.input=null,_this.supportsScrollBehavior=!1,_this.setContentRef=function(e){_this.content=e},_this.setInputRef=function(e){_this.input=e},_this.state={renderedSteps:[],previousSteps:[],currentStep:{},previousStep:{},steps:{},disabled:!0,opened:props.opened||!props.floating,inputValue:"",inputInvalid:!1,speaking:!1,recognitionEnable:props.recognitionEnable&&_recognition__WEBPACK_IMPORTED_MODULE_7__.a.isSupported(),defaultUserSettings:{}},_this.speak=Object(_speechSynthesis__WEBPACK_IMPORTED_MODULE_10__.a)(props.speechSynthesis),_this}return _inherits(ChatBot,_Component),_createClass(ChatBot,[{key:"componentDidMount",value:function(){for(var e=this,t=this.props.steps,n=this.props,r=n.botDelay,i=n.botAvatar,o=n.cache,a=n.cacheName,s=n.customDelay,u=n.enableMobileAutoFocus,c=n.userAvatar,_={},p={delay:r,avatar:i},l={delay:n.userDelay,avatar:c,hideInput:!1},f={delay:s},d=0,h=t.length;d<h;d+=1){var y=t[d],b={};y.user?b=l:y.message||y.asMessage?b=p:y.component&&(b=f),_[y.id]=_extends({},b,_schemas_schema__WEBPACK_IMPORTED_MODULE_4__.a.parse(y))}_schemas_schema__WEBPACK_IMPORTED_MODULE_4__.a.checkInvalidIds(_);var v=t[0];if(v.message){var g=v.message;v.message="function"==typeof g?g():g,_[v.id].message=v.message}var E=this.state.recognitionEnable,O=this.props.recognitionLang;E&&(this.recognition=new _recognition__WEBPACK_IMPORTED_MODULE_7__.a(this.onRecognitionChange,this.onRecognitionEnd,this.onRecognitionStop,O)),this.supportsScrollBehavior="scrollBehavior"in document.documentElement.style,this.content&&(this.content.addEventListener("DOMNodeInserted",this.onNodeInserted),window.addEventListener("resize",this.onResize));var m=_storage__WEBPACK_IMPORTED_MODULE_5__.a({cacheName:a,cache:o,firstStep:v,steps:_},function(){e.setState({disabled:!1},function(){!u&&Object(_utils__WEBPACK_IMPORTED_MODULE_9__.d)()||e.input&&e.input.focus()})}),P=m.currentStep,S=m.previousStep,M=m.previousSteps,D=m.renderedSteps;this.setState({currentStep:P,defaultUserSettings:l,previousStep:S,previousSteps:M,renderedSteps:D,steps:_})}},{key:"componentWillUnmount",value:function(){this.content&&(this.content.removeEventListener("DOMNodeInserted",this.onNodeInserted),window.removeEventListener("resize",this.onResize))}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentStep,r=t.disabled,i=t.inputInvalid,o=t.inputValue,a=t.opened,s=t.renderedSteps,u=t.speaking,c=t.recognitionEnable,_=this.props,p=_.className,l=_.contentStyle,f=_.floating,d=_.floatingIcon,h=_.floatingStyle,y=_.footerStyle,b=_.headerComponent,v=_.headerTitle,g=_.hideHeader,E=_.hideSubmitButton,O=_.inputStyle,m=_.placeholder,P=_.inputAttributes,S=_.recognitionPlaceholder,M=_.style,D=_.submitButtonStyle,x=_.width,T=_.height,I=b||react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.f,{className:"rsc-header"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.h,{className:"rsc-header-title"},v),f&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.g,{className:"rsc-header-close-button",onClick:function(){return e.toggleChatBot(!1)}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_icons__WEBPACK_IMPORTED_MODULE_8__.b,null))),w=(this.isInputValueEmpty()||u)&&c?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_icons__WEBPACK_IMPORTED_MODULE_8__.c,null):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_icons__WEBPACK_IMPORTED_MODULE_8__.d,null),C=u?S:n.placeholder||m,j=n.inputAttributes||P;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"rsc ".concat(p)},f&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.c,{className:"rsc-float-button",style:h,opened:a,onClick:function(){return e.toggleChatBot(!0)}},"string"==typeof d?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.d,{src:d}):d),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.a,{className:"rsc-container",floating:f,floatingStyle:h,opened:a,style:M,width:x,height:T},!g&&I,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.b,{className:"rsc-content",ref:this.setContentRef,floating:f,style:l,height:T,hideInput:n.hideInput},s.map(this.renderStep)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.e,{className:"rsc-footer",style:y},!n.hideInput&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.i,_extends({type:"textarea",style:O,ref:this.setInputRef,className:"rsc-input",placeholder:i?"":C,onKeyPress:this.handleKeyPress,onChange:this.onValueChange,value:o,floating:f,invalid:i,disabled:r,hasButton:!E},j)),!n.hideInput&&!E&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_6__.j,{className:"rsc-submit-button",style:D,onClick:this.handleSubmitButton,invalid:i,disabled:r,speaking:u},w))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.opened;return void 0!==e.toggleFloating&&void 0!==n&&n!==t.opened?_objectSpread({},t,{opened:n}):t}}]),ChatBot}(react__WEBPACK_IMPORTED_MODULE_0__.Component);ChatBot.propTypes={avatarStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),botAvatar:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,botDelay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,bubbleOptionStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),bubbleStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),cache:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,cacheName:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,contentStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),customDelay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,customStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),enableMobileAutoFocus:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,enableSmoothScroll:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,floating:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,floatingIcon:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element]),floatingStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),footerStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),handleEnd:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,handleNextStep:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,headerComponent:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element,headerTitle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,height:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,hideBotAvatar:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,hideHeader:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,hideSubmitButton:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,hideUserAvatar:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,inputAttributes:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),inputStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),opened:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,toggleFloating:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,placeholder:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,recognitionEnable:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,recognitionLang:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,recognitionPlaceholder:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,speechSynthesis:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({enable:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,lang:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,voice:"undefined"!=typeof window?prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.instanceOf(window.SpeechSynthesisVoice):prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any}),steps:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object).isRequired,style:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),submitButtonStyle:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any),userAvatar:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,userDelay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,width:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string},ChatBot.defaultProps={avatarStyle:{},botDelay:1e3,bubbleOptionStyle:{},bubbleStyle:{},cache:!1,cacheName:"rsc_cache",className:"",contentStyle:{},customStyle:{},customDelay:1e3,enableMobileAutoFocus:!1,enableSmoothScroll:!1,floating:!1,floatingIcon:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_icons__WEBPACK_IMPORTED_MODULE_8__.a,null),floatingStyle:{},footerStyle:{},handleEnd:void 0,handleNextStep:void 0,headerComponent:void 0,headerTitle:"Chat",height:"520px",hideBotAvatar:!1,hideHeader:!1,hideSubmitButton:!1,hideUserAvatar:!1,inputStyle:{},opened:void 0,placeholder:"Type the message ...",inputAttributes:{},recognitionEnable:!1,recognitionLang:"en",recognitionPlaceholder:"Listening ...",speechSynthesis:{enable:!1,lang:"en",voice:null},style:{},submitButtonStyle:{},toggleFloating:void 0,userDelay:1e3,width:"350px",botAvatar:"data:image/svg+xml,%3csvg version='1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3e%3cpath d='M303 70a47 47 0 1 0-70 40v84h46v-84c14-8 24-23 24-40z' fill='%2393c7ef'/%3e%3cpath d='M256 23v171h23v-84a47 47 0 0 0-23-87z' fill='%235a8bb0'/%3e%3cpath fill='%2393c7ef' d='M0 240h248v124H0z'/%3e%3cpath fill='%235a8bb0' d='M264 240h248v124H264z'/%3e%3cpath fill='%2393c7ef' d='M186 365h140v124H186z'/%3e%3cpath fill='%235a8bb0' d='M256 365h70v124h-70z'/%3e%3cpath fill='%23cce9f9' d='M47 163h419v279H47z'/%3e%3cpath fill='%2393c7ef' d='M256 163h209v279H256z'/%3e%3cpath d='M194 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%233c5d76'/%3e%3cpath d='M380 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%231e2e3b'/%3e%3cpath d='M186 349a70 70 0 1 0 140 0H186z' fill='%233c5d76'/%3e%3cpath d='M256 349v70c39 0 70-31 70-70h-70z' fill='%231e2e3b'/%3e%3c/svg%3e",userAvatar:"data:image/svg+xml,%3csvg viewBox='-208.5 21 100 100' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ccircle cx='-158.5' cy='71' fill='%23F5EEE5' r='50'/%3e%3cdefs%3e%3ccircle cx='-158.5' cy='71' id='a' r='50'/%3e%3c/defs%3e%3cclipPath id='b'%3e%3cuse overflow='visible' xlink:href='%23a'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23b)' d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' fill='%23E6C19C'/%3e%3cg clip-path='url(%23b)'%3e%3cdefs%3e%3cpath d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' id='c'/%3e%3c/defs%3e%3cclipPath id='d'%3e%3cuse overflow='visible' xlink:href='%23c'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23d)' d='M-158.5 100.1c12.7 0 23-18.6 23-34.4 0-16.2-10.3-24.7-23-24.7s-23 8.5-23 24.7c0 15.8 10.3 34.4 23 34.4z' fill='%23D4B08C'/%3e%3c/g%3e%3cpath d='M-158.5 96c12.7 0 23-16.3 23-31 0-15.1-10.3-23-23-23s-23 7.9-23 23c0 14.7 10.3 31 23 31z' fill='%23F2CEA5'/%3e%3c/svg%3e"},__webpack_exports__.a=ChatBot},function(e,t,n){e.exports=function(e,t){var n=["abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ","0123456789","~!@#$%^&()_+-={}[];',"],r="";(t=t||"aA0").split("").forEach(function(e){isNaN(parseInt(e))?/[a-z]/.test(e)?r+=n[0]:/[A-Z]/.test(e)?r+=n[1]:r+=n[3]:r+=n[2]}),e=e||30;for(var i="";e--;)i+=r.charAt(Math.floor(Math.random()*r.length));return i}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),i=function(e){return function(t,n){var i=e.lang,o=e.voice,a=e.enable,s=t.user;if(window.SpeechSynthesisUtterance&&window.speechSynthesis&&!s&&a){var u=function(e){var t=e.message,n=e.metadata,i=void 0===n?{}:n;return Object(r.f)(i.speak)?i.speak:Object(r.f)(t)?t:""}(t),c=new window.SpeechSynthesisUtterance;c.text=u.replace(/{previousValue}/g,n),c.lang=i,c.voice=o,window.speechSynthesis.speak(c)}}}},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o=n(0),a=n.n(o),s=n(2),u=n.n(s),c=n(5);function _(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  animation: "," 0.3s ease forwards;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n  transform: scale(0);\n"]);return _=function(){return e},e}var p=u.a.li(_(),c.d),l=n(4);function f(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: ",";\n  border: 0;\n  border-radius: 22px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ",";\n  display: inline-block;\n  font-size: 14px;\n  padding: 12px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n  &:active,\n  &:hover:focus {\n    outline: none;\n  }\n"]);return f=function(){return e},e}var d=u.a.button(f(),function(e){return e.theme.botBubbleColor},function(e){return e.theme.botFontColor});d.defaultProps={theme:l.a};var h=d;function y(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin: 2px 0 12px 0;\n  padding: 0 6px;\n"]);return y=function(){return e},e}var b=u.a.ul(y());function v(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""]);return v=function(){return e},e}var g=u.a.div(v());function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return r=this,o=(e=P(t)).call.apply(e,[this].concat(s)),n=!o||"object"!==E(o)&&"function"!=typeof o?M(r):o,D(M(M(n)),"state",{choices:n.props.step.choices.map(function(e){return O({},e,{selected:!1})})}),D(M(M(n)),"onChoiceClick",function(e){var t=n.state.choices,r=t.find(function(t){return JSON.stringify(t)===JSON.stringify(e)});r.selected=!r.selected,n.setState({choices:t})}),D(M(M(n)),"onSubmitClick",function(){(0,n.props.triggerNextStep)(n.state.choices.filter(function(e){return e.selected}).map(function(e){var t=O({},e);return delete t.selected,t}))}),D(M(M(n)),"renderChoice",function(e){var t=n.props,r=t.bubbleChoiceStyle,o=t.step.user,a=e.label;return i.a.createElement(p,{key:JSON.stringify(e),className:"rsc-mcs-choice"},i.a.createElement(h,{className:"rsc-mcs-choice-element",style:r,user:o,onClick:function(){return n.onChoiceClick(e)}},e.selected?"":"",a))}),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["Component"]),n=t,(o=[{key:"render",value:function(){var e=this.state.choices,t=this.props.bubbleChoiceStyle;return i.a.createElement(g,{className:"rsc-mcs"},i.a.createElement(b,{className:"rsc-mcs-choices"},Object.keys(e).map(function(t){return e[t]}).map(this.renderChoice),i.a.createElement(p,{className:"rsc-mcs-submit"},i.a.createElement(h,{className:"rsc-mcs-submit-element",style:t,onClick:this.onSubmitClick},""))))}}])&&m(n.prototype,o),a&&m(n,a),t}();x.propTypes={bubbleChoiceStyle:a.a.objectOf(a.a.any).isRequired,step:a.a.objectOf(a.a.any).isRequired,triggerNextStep:a.a.func.isRequired};t.a=x},function(e,t,n){"use strict";n.r(t);var r=n(14),i=n(8);n.d(t,"Loading",function(){return i.a}),t.default=r.a},function(e,t,n){"use strict";var r=n(20),i=n(21),o=n(22);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[n,i,o,a,s,u],p=0;(c=new Error(t.replace(/%s/g,function(){return _[p++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])});
//# sourceMappingURL=react-simple-chatbot.js.map